# å¿«é€Ÿä¸Šæ‰‹

## ä¸€é”®éƒ¨ç½²

1. ç‚¹å‡»ä»¥ä¸‹æŒ‰é’®å°† Twikoo ä¸€é”®éƒ¨ç½²åˆ°äº‘å¼€å‘<br>
[![éƒ¨ç½²åˆ°äº‘å¼€å‘](https://main.qcloudimg.com/raw/67f5a389f1ac6f3b4d04c7256438e44f.svg)](https://console.cloud.tencent.com/tcb/env/index?action=CreateAndDeployCloudBaseProject&appUrl=https%3A%2F%2Fgithub.com%2Fimaegoo%2Ftwikoo&branch=dev)
2. è¿›å…¥[ç¯å¢ƒ-ç™»å½•æˆæƒ](https://console.cloud.tencent.com/tcb/env/login)ï¼Œå¯ç”¨â€œåŒ¿åç™»å½•â€
3. è¿›å…¥[ç¯å¢ƒ-å®‰å…¨é…ç½®](https://console.cloud.tencent.com/tcb/env/safety)ï¼Œå°†ç½‘ç«™åŸŸåæ·»åŠ åˆ°â€œWEBå®‰å…¨åŸŸåâ€

::: warning æ³¨æ„
ä¸€é”®éƒ¨ç½²è™½ç„¶æ–¹ä¾¿ï¼Œä½†æ˜¯ä»…æ”¯æŒæŒ‰é‡è®¡è´¹ç¯å¢ƒâ€”â€”ä¹Ÿå°±æ˜¯è¯´ï¼Œ**ä¸€é”®éƒ¨ç½²çš„ç¯å¢ƒï¼Œå½“å…è´¹èµ„æºç”¨å°½åï¼Œå°†ä¼šäº§ç”Ÿè´¹ç”¨**ã€‚ä¸”æŒ‰é‡è®¡è´¹ç¯å¢ƒæ— æ³•åˆ‡æ¢ä¸ºåŒ…å¹´åŒ…æœˆç¯å¢ƒã€‚

å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå…è´¹èµ„æºèƒ½å¤Ÿæ»¡è¶³æ—¥è®¿é—®é‡åœ¨ 10,000 ä»¥ä¸‹çš„ç«™ç‚¹ï¼ˆå‚è€ƒï¼š[å…è´¹èµ„æºå¦‚ä½•è®¡ç®—ï¼Ÿ](faq.html#å…è´¹èµ„æºå¦‚ä½•è®¡ç®—)ï¼‰ã€‚

å¦‚æœæ‚¨å¸Œæœ›ï¼Œå½“å…è´¹èµ„æºç”¨å°½æ—¶ï¼Œä¸äº§ç”Ÿè´¹ç”¨ï¼Œè¯·å‚è€ƒä¸‹é¢çš„æ•™ç¨‹æ‰‹åŠ¨éƒ¨ç½²ã€‚
:::

## ç¯å¢ƒåˆå§‹åŒ–

[æŸ¥çœ‹ç¯å¢ƒåˆå§‹åŒ–ä¸ç¯å¢ƒéƒ¨ç½²è§†é¢‘æ•™ç¨‹](https://www.bilibili.com/video/BV1MZ4y1G7VB)

Twikoo ä½¿ç”¨äº‘å¼€å‘ä½œä¸ºè¯„è®ºåå°ï¼Œæ¯ä¸ªäº‘å¼€å‘ç”¨æˆ·å‡é•¿æœŸäº«å—1ä¸ªå…è´¹çš„æ ‡å‡†å‹åŸºç¡€ç‰ˆ1èµ„æºå¥—é¤ã€‚å¦‚æœæ‚¨å·²ç»æ‹¥æœ‰äº†ä¸€ä¸ªå…è´¹ç‰ˆäº‘å¼€å‘ç¯å¢ƒï¼ŒTwikoo ä¹Ÿå¯ä»¥ä¸å…¶ä»–é¡¹ç›®å…±ç”¨ä¸€ä¸ªç¯å¢ƒï¼Œè¯·ç›´æ¥æŸ¥çœ‹[ç¯å¢ƒéƒ¨ç½²](#ç¯å¢ƒéƒ¨ç½²)ã€‚

1. [æ³¨å†Œäº‘å¼€å‘CloudBase](https://curl.qcloud.com/KnnJtUom)
2. è¿›å…¥[äº‘å¼€å‘æ§åˆ¶å°](https://console.cloud.tencent.com/tcb/)ï¼Œæ–°å»ºç¯å¢ƒï¼Œè¯·æŒ‰éœ€é…ç½®ç¯å¢ƒ<br>
::: tip æç¤º
* æ¨èåˆ›å»ºä¸Šæµ·ç¯å¢ƒã€‚å¦‚é€‰æ‹©å¹¿å·ç¯å¢ƒï¼Œéœ€è¦åœ¨ `twikoo.init()` æ—¶é¢å¤–æŒ‡å®šç¯å¢ƒ `region: "ap-guangzhou"`
* ç¯å¢ƒåç§°è‡ªç”±å¡«å†™
* æ¨èé€‰æ‹©è®¡è´¹æ–¹å¼`åŒ…å¹´åŒ…æœˆ`ï¼Œå¥—é¤ç‰ˆæœ¬`åŸºç¡€ç­ 1`ï¼Œè¶…å‡ºå…è´¹é¢åº¦ä¸ä¼šæ”¶è´¹
* å¦‚æœæç¤ºé€‰æ‹©â€œåº”ç”¨æ¨¡æ¿â€ï¼Œè¯·é€‰æ‹©â€œç©ºæ¨¡æ¿â€
:::
3. è¿›å…¥[ç¯å¢ƒ-ç™»å½•æˆæƒ](https://console.cloud.tencent.com/tcb/env/login)ï¼Œå¯ç”¨â€œåŒ¿åç™»å½•â€
4. è¿›å…¥[ç¯å¢ƒ-å®‰å…¨é…ç½®](https://console.cloud.tencent.com/tcb/env/safety)ï¼Œå°†ç½‘ç«™åŸŸåæ·»åŠ åˆ°â€œWEBå®‰å…¨åŸŸåâ€
5. å¤åˆ¶ç¯å¢ƒIdå¤‡ç”¨

## ç¯å¢ƒéƒ¨ç½²

### â‘  ç½‘é¡µæ–¹å¼ï¼ˆæ¨èï¼‰

1. è¿›å…¥[ç¯å¢ƒ-äº‘å‡½æ•°](https://console.cloud.tencent.com/tcb/scf/index)ï¼Œç‚¹å‡»â€œæ–°å»ºäº‘å‡½æ•°â€
2. å‡½æ•°åç§°è¯·å¡«å†™ï¼š`twikoo`ï¼Œåˆ›å»ºæ–¹å¼è¯·é€‰æ‹©ï¼š`ç©ºç™½å‡½æ•°`ï¼Œè¿è¡Œç¯å¢ƒè¯·é€‰æ‹©ï¼š`Nodejs 10.15`ï¼Œå‡½æ•°å†…å­˜è¯·é€‰æ‹©ï¼š`128MB`ï¼Œç‚¹å‡»â€œä¸‹ä¸€æ­¥â€
3. æ‰“å¼€ [index.js](https://imaegoo.coding.net/public/twikoo/twikoo/git/files/dev/src/function/twikoo/index.js)ï¼Œå…¨é€‰ä»£ç ã€å¤åˆ¶ã€ç²˜è´´åˆ°â€œå‡½æ•°ä»£ç â€è¾“å…¥æ¡†ä¸­ï¼Œç‚¹å‡»â€œç¡®å®šâ€
4. åˆ›å»ºå®Œæˆåï¼Œç‚¹å‡»â€œtwikoo"è¿›å…¥äº‘å‡½æ•°è¯¦æƒ…é¡µï¼Œè¿›å…¥â€œå‡½æ•°ä»£ç â€æ ‡ç­¾ï¼Œç‚¹å‡»â€œæ–‡ä»¶ - æ–°å»ºæ–‡ä»¶â€ï¼Œè¾“å…¥ `package.json`ï¼Œå›è½¦
5. æ‰“å¼€ [package.json](https://imaegoo.coding.net/public/twikoo/twikoo/git/files/dev/src/function/twikoo/package.json)ï¼Œå…¨é€‰ä»£ç ã€å¤åˆ¶ã€ç²˜è´´åˆ°ä»£ç æ¡†ä¸­ï¼Œç‚¹å‡»â€œä¿å­˜å¹¶å®‰è£…ä¾èµ–â€

::: tip æç¤º
[å¦‚ä½•æ›´æ–° Twikoo ç‰ˆæœ¬ï¼Ÿ](faq.html#å¦‚ä½•æ›´æ–°-twikoo-ç‰ˆæœ¬)
:::

### â‘¡ è„šæœ¬æ–¹å¼

::: warning æ³¨æ„
* è¯·ç¡®ä¿æ‚¨å·²ç»å®‰è£…äº† [Node.js](https://nodejs.org/en/download/)
* è¯·å°†å‘½ä»¤ã€ä»£ç ä¸­â€œæ‚¨çš„ç¯å¢ƒidâ€æ›¿æ¢ä¸ºæ‚¨è‡ªå·±çš„ç¯å¢ƒid
* ç¬¬4æ­¥ä¼šå¼¹å‡ºæµè§ˆå™¨è¦æ±‚æˆæƒï¼Œéœ€åœ¨æœ‰å›¾å½¢ç•Œé¢çš„ç³»ç»Ÿä¸‹è¿›è¡Œ
* è¯·å‹¿åœ¨ Termux ä¸‹æ“ä½œã€‚è™½ç„¶å¯ä»¥éƒ¨ç½²æˆåŠŸï¼Œä½†æ˜¯ä½¿ç”¨æ—¶ä¼šæŠ¥é”™ `[FUNCTIONS_EXECUTE_FAIL] Error: EACCES: permission denied, open '/var/user/index.js'`ï¼Œè¿™æ˜¯ cloudbase-cli çš„é—®é¢˜
:::

1. å…‹éš†æœ¬ä»“åº“
``` sh
git clone https://github.com/imaegoo/twikoo.git # æˆ– git clone https://e.coding.net/imaegoo/twikoo/twikoo.git
cd twikoo
```
> å¦‚æœæ‚¨æ²¡æœ‰å®‰è£… Gitï¼Œä¹Ÿå¯ä»¥ä» [Release](https://github.com/imaegoo/twikoo/releases) é¡µé¢ä¸‹è½½æœ€æ–°çš„ Source code<br>
> å¦‚æœæ‚¨æ‰€åœ¨çš„åœ°åŒºè®¿é—® Github é€Ÿåº¦æ…¢ï¼Œä¹Ÿå¯ä»¥å°è¯•å¦ä¸€ä¸ªä»“åº“åœ°å€ï¼š[https://imaegoo.coding.net/public/twikoo/twikoo/git](https://imaegoo.coding.net/public/twikoo/twikoo/git)
2. å®‰è£…ä¾èµ–é¡¹
``` sh
npm install # æˆ– yarn install
```
3. æˆæƒäº‘å¼€å‘ç¯å¢ƒï¼ˆæ­¤å‘½ä»¤ä¼šå¼¹å‡ºæµè§ˆå™¨è¦æ±‚æˆæƒï¼Œéœ€åœ¨æœ‰å›¾å½¢ç•Œé¢çš„ç³»ç»Ÿä¸‹è¿›è¡Œï¼‰
``` sh
npm run login # æˆ– yarn run login
```
4. è‡ªåŠ¨éƒ¨ç½²
``` sh
npm run deploy -- -e æ‚¨çš„ç¯å¢ƒid # æˆ– yarn deploy -e æ‚¨çš„ç¯å¢ƒid
```

::: tip æç¤º
è„šæœ¬éƒ¨ç½²ç”¨æˆ·æ›´æ–° Twikoo ç‰ˆæœ¬æ—¶ï¼Œè¯·æ‰§è¡Œ
``` sh
git pull
npm install # æˆ– yarn install
npm run deploy -- -e æ‚¨çš„ç¯å¢ƒid # æˆ– yarn deploy -e æ‚¨çš„ç¯å¢ƒid
```
æ›´æ–°ç°æœ‰çš„äº‘å‡½æ•°ï¼Œå¹¶åŒæ—¶æ›´æ–°ç½‘ç«™ Twikoo CDN åœ°å€ä¸­çš„ç‰ˆæœ¬å·ï¼Œä½¿ä¹‹ä¿æŒä¸€è‡´
:::

## é…ç½®ä½¿ç”¨

### åœ¨ Hexo Butterfly ä¸»é¢˜ä½¿ç”¨

Butterfly ç›®å‰æ”¯æŒ Twikooï¼Œè¯·æŸ¥çœ‹ [Butterfly å®‰è£æ–‡æª”(å››) ä¸»é¡Œé…ç½®-2](https://butterfly.js.org/posts/ceeb73f/#%E8%A9%95%E8%AB%96)

### åœ¨ Hexo Volantis ä¸»é¢˜ä½¿ç”¨

Volantis ç›®å‰æ”¯æŒ Twikooï¼Œè¯·æŸ¥çœ‹ [hexo-theme-volantis/_config.yml](https://github.com/volantis-x/hexo-theme-volantis/blob/master/_config.yml)

``` yml
comments:
  twikoo:
    js: https://cdn.jsdelivr.net/npm/twikoo@0.5.1/dist/twikoo.all.min.js
    envId: xxxxxxxxxxxxxxx # è…¾è®¯äº‘ç¯å¢ƒid
```

### åœ¨ Hexo Ayer ä¸»é¢˜ä½¿ç”¨

Ayer ç›®å‰æ”¯æŒ Twikooï¼Œè¯·æŸ¥çœ‹ [hexo-theme-ayer/_config.yml](https://github.com/Shen-Yu/hexo-theme-ayer/blob/master/_config.yml)

``` yml
twikoo:
  envId: xxxxxxxxxxxxxxx # è…¾è®¯äº‘ç¯å¢ƒid
```

### åœ¨ Hexo Icarus ä¸»é¢˜ä½¿ç”¨

è¯·å‚è€ƒ [åŸºäºè…¾è®¯äº‘ï¼Œç»™ä½ çš„ Icarus åšå®¢é…ä¸Š Twikoo è¯„è®ºç³»ç»Ÿ](https://anzifan.com/post/icarus_to_candy_2/) by å¼‚æ¬¡å…ƒdeæœºæ™ºå›ğŸ’¯

### é€šè¿‡ CDN å¼•å…¥

::: tip æç¤º
å¦‚æœæ‚¨ä½¿ç”¨çš„åšå®¢ä¸»é¢˜ä¸æ”¯æŒ Twikooï¼Œå¹¶ä¸”æ‚¨ä¸çŸ¥é“å¦‚ä½•å¼•å…¥ Twikooï¼Œæ‚¨å¯ä»¥[åœ¨ Github æäº¤é€‚é…è¯·æ±‚](https://github.com/imaegoo/twikoo/issues/new)
:::

``` html
<div id="tcomment"></div>
<script src="https://cdn.jsdelivr.net/npm/twikoo@0.5.1/dist/twikoo.all.min.js"></script>
<script>
twikoo.init({
  envId: 'æ‚¨çš„ç¯å¢ƒid',
  el: '#tcomment',
  // region: 'ap-guangzhou', // ç¯å¢ƒåœ°åŸŸï¼Œé»˜è®¤ä¸º ap-shanghaiï¼Œå¦‚æœæ‚¨çš„ç¯å¢ƒåœ°åŸŸä¸æ˜¯ä¸Šæµ·ï¼Œéœ€ä¼ æ­¤å‚æ•°
  // path: 'window.location.pathname', // ç”¨äºåŒºåˆ†ä¸åŒæ–‡ç« çš„è‡ªå®šä¹‰ js è·¯å¾„ï¼Œå¦‚æœæ‚¨çš„æ–‡ç« è·¯å¾„ä¸æ˜¯ location.pathnameï¼Œéœ€ä¼ æ­¤å‚æ•°
})
</script>
```

> å»ºè®®ä½¿ç”¨ CDN å¼•å…¥ Twikoo çš„ç”¨æˆ·åœ¨é“¾æ¥åœ°å€ä¸Šé”å®šç‰ˆæœ¬ï¼Œä»¥å…å°†æ¥ Twikoo å‡çº§æ—¶å—åˆ°éå…¼å®¹æ€§æ›´æ–°çš„å½±å“ã€‚

### é€šè¿‡ NPM å¼•å…¥

::: tip æç¤º
å¦‚æœæ‚¨ä½¿ç”¨çš„åšå®¢ä¸»é¢˜ä¸æ”¯æŒ Twikooï¼Œå¹¶ä¸”æ‚¨ä¸çŸ¥é“å¦‚ä½•å¼•å…¥ Twikooï¼Œæ‚¨å¯ä»¥[åœ¨ Github æäº¤é€‚é…è¯·æ±‚](https://github.com/imaegoo/twikoo/issues/new)
:::

``` sh
npm install twikoo # æˆ– yarn add twikoo
```

``` html
<div id="tcomment"></div>
```

``` js
import twikoo from 'twikoo' // æˆ– const twikoo = require('twikoo')
twikoo.init({
  envId: 'æ‚¨çš„ç¯å¢ƒid',
  el: '#tcomment',
  // region: 'ap-guangzhou', // ç¯å¢ƒåœ°åŸŸï¼Œé»˜è®¤ä¸º ap-shanghaiï¼Œå¦‚æœæ‚¨çš„ç¯å¢ƒåœ°åŸŸä¸æ˜¯ä¸Šæµ·ï¼Œéœ€ä¼ æ­¤å‚æ•°
  // path: 'window.location.pathname', // ç”¨äºåŒºåˆ†ä¸åŒæ–‡ç« çš„è‡ªå®šä¹‰ js è·¯å¾„ï¼Œå¦‚æœæ‚¨çš„æ–‡ç« è·¯å¾„ä¸æ˜¯ location.pathnameï¼Œéœ€ä¼ æ­¤å‚æ•°
})
```

## å¼€å¯ç®¡ç†é¢æ¿

1. è¿›å…¥[ç¯å¢ƒ-ç™»å½•æˆæƒ](https://console.cloud.tencent.com/tcb/env/login)ï¼Œç‚¹å‡»â€œè‡ªå®šä¹‰ç™»å½•â€å³è¾¹çš„â€œç§é’¥ä¸‹è½½â€ï¼Œä¸‹è½½ç§é’¥æ–‡ä»¶
2. ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€ç§é’¥æ–‡ä»¶ï¼Œå¤åˆ¶å…¨éƒ¨å†…å®¹
3. ç‚¹å‡»è¯„è®ºçª—å£çš„â€œå°é½¿è½®â€å›¾æ ‡ï¼Œç²˜è´´ç§é’¥æ–‡ä»¶å†…å®¹ï¼Œå¹¶è®¾ç½®ç®¡ç†å‘˜å¯†ç 
